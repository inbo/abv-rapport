<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="nl-BE" xml:lang="nl-BE"><head>
<script src="../libs/quarto-nav/quarto-nav.js"></script>
<script src="../libs/quarto-nav/headroom.min.js"></script>
<script src="../libs/clipboard/clipboard.min.js"></script>
<script src="../libs/quarto-search/autocomplete.umd.js"></script>
<script src="../libs/quarto-search/fuse.min.js"></script>
<script src="../libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../libs/quarto-html/quarto.js"></script>
<script src="../libs/quarto-html/popper.min.js"></script>
<script src="../libs/quarto-html/tippy.umd.min.js"></script>
<script src="../libs/quarto-html/anchor.min.js"></script>
<link href="../libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../libs/bootstrap/bootstrap.min.js"></script>
<link href="../libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light"><meta charset="utf-8">
  <meta name="generator" content="pandoc">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>Algemene Broedvogelmonitoring Vlaanderen (ABV) 2007-2023 - Verwerking van de gegevens</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="../libs/quarto-contrib/quarto-project/inboqmd-report-website/css/agency.css">
  <link rel="stylesheet" href="../libs/quarto-contrib/quarto-project/inboqmd-report-website/_extensions/flandersqmd-report-website/css/flanders_generic.css">
  <script id="quarto-search-options" type="application/json">{
    "location": "navbar",
    "copy-button": false,
    "collapse-after": 3,
    "panel-placement": "end",
    "type": "overlay",
    "limit": 50,
    "keyboard-shortcut": [
      "f",
      "/",
      "s"
    ],
    "show-item-context": false,
    "language": {
      "search-no-results-text": "Geen resultaten",
      "search-matching-documents-text": "Gevonden documenten",
      "search-copy-link-title": "Kopieer link om te zoeken",
      "search-hide-matches-text": "Extra overeenkomsten verbergen",
      "search-more-match-text": "meer overeenkomst in dit document",
      "search-more-matches-text": "meer overeenkomsten in dit document",
      "search-clear-button-title": "Wissen",
      "search-text-placeholder": "",
      "search-detached-cancel-button-title": "Annuleren",
      "search-submit-button-title": "Verzenden",
      "search-label": "Zoeken"
    }
  }</script>
  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.15.1/dist/katex.min.css">
</head>
<body class="nav-sidebar docked nav-fixed">
<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Algemene Broedvogelmonitoring Vlaanderen (ABV) 2007-2023</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Zoeken"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Schakel navigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link active" href="../index.html" aria-current="page"> 
<span class="menu-text">Cover</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../samenvatting.html"> 
<span class="menu-text">Samenvatting</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../methodologie/index.html"> 
<span class="menu-text">Methodologie</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../index/bos.html"> 
<span class="menu-text">Samengestelde indices</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../soort/index.html"> 
<span class="menu-text">Trends per soort</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
          <div class="quarto-navbar-tools tools-wide">
    <a href="https://mastodon.online/@inbo" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-mastodon"></i></a>
    <a href="https://twitter.com/inbovlaanderen" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <a href="https://www.facebook.com/INBOVlaanderen/" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-facebook"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/inbo/abvanalysis">
            Broncode
            </a>
          </li>
          <li>
            <a class="dropdown-item quarto-navbar-tools-item" href="https://github.com/inbo/abvanalysis/issues">
            Meld een probleem
            </a>
          </li>
      </ul>
    </div>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../methodologie/index.html">Methodologie</a></li><li class="breadcrumb-item"><a href="../methodologie/verwerking.html">Verwerking van de gegevens</a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Schakel zijbalknavigatie" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
      <a href="../index.html" class="sidebar-logo-link">
      <img src="../cover.png" alt="" class="sidebar-logo py-0 d-lg-inline d-none">
      </a>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cover</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../samenvatting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Samenvatting</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../abstract.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">English abstract</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../methodologie/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Methodologie</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methodologie/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Inzameling van de tellingen in het veld</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methodologie/verwerking.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Verwerking van de gegevens</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methodologie/voorstelling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Voorstelling van de gegevens</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../methodologie/reproduceerbaarheid.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reproduceerbaarheid en traceerbaarheid van de gegevensverwerking</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true">
 <span class="menu-text">Indicatoren</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/bos.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bos</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/generalist.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Generalist</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/landbouw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Landbouw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/nara2020.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">NARA2020</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/standvogel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Standvogel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/subsaharamigrant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">SubSaharaMigrant</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index/watervogel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Watervogel</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../soort/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Soorten</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Schakel sectie">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overzicht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/aalscholver.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aalscholver</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/bergeend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bergeend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/blauwborst.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blauwborst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/blauwe-reiger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Blauwe reiger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/boerenzwaluw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boerenzwaluw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/bonte-vliegenvanger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bonte vliegenvanger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/boomklever.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boomklever</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/boomkruiper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boomkruiper</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/boomleeuwerik.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boomleeuwerik</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/boompieper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Boompieper</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/bosrietzanger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bosrietzanger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/bruine-kiekendief.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Bruine kiekendief</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/buizerd.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Buizerd</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/canadese-gans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Canadese gans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/cettis-zanger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Cetti’s zanger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/dodaars.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dodaars</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/ekster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ekster</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/fazant.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fazant</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/fitis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fitis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/fuut.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Fuut</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/gaai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gaai</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/geelgors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Geelgors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/gekraagde-roodstaart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gekraagde roodstaart</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/gele-kwikstaart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gele kwikstaart</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/gierzwaluw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Gierzwaluw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/glanskop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Glanskop</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/goudhaan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Goudhaan</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/grasmus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grasmus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/graspieper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Graspieper</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/grauwe-gans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grauwe gans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/groene-specht.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Groene specht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/groenling.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Groenling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/grote-bonte-specht.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grote bonte specht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/grote-lijster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grote lijster</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/grutto.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Grutto</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/halsbandparkiet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Halsbandparkiet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/havik.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Havik</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/heggenmus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Heggenmus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/holenduif.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Holenduif</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/houtduif.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Houtduif</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/huismus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Huismus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/huiszwaluw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Huiszwaluw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kauw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kauw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kievit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kievit</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kleine-karekiet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kleine karekiet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kleine-mantelmeeuw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kleine mantelmeeuw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kneu.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kneu</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/knobbelzwaan.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Knobbelzwaan</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/koekoek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Koekoek</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kokmeeuw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kokmeeuw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/koolmees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Koolmees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/krakeend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Krakeend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kuifeend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kuifeend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/kuifmees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kuifmees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/matkop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Matkop</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/meerkoet.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Meerkoet</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/merel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Merel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/middelste-bonte-specht.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Middelste Bonte Specht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/nachtegaal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nachtegaal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/nijlgans.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Nijlgans</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/patrijs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Patrijs</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/pimpelmees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pimpelmees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/putter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Putter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/rietgors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rietgors</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/rietzanger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rietzanger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/ringmus.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Ringmus</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/roek.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Roek</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/roodborst.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Roodborst</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/roodborsttapuit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Roodborsttapuit</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/scholekster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Scholekster</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/sperwer.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sperwer</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/spotvogel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spotvogel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/spreeuw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Spreeuw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/sprinkhaanzanger.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Sprinkhaanzanger</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/staartmees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Staartmees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/stadsduif.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stadsduif</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/tafeleend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tafeleend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/tjiftjaf.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tjiftjaf</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/torenvalk.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Torenvalk</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/tuinfluiter.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tuinfluiter</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/turkse-tortel.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Turkse tortel</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/veldleeuwerik.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Veldleeuwerik</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/vink.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Vink</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/waterhoen.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Waterhoen</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/wielewaal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wielewaal</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/wilde-eend.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wilde eend</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/winterkoning.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Winterkoning</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/witte-kwikstaart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Witte kwikstaart</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/wulp.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Wulp</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zanglijster.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zanglijster</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zilvermeeuw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zilvermeeuw</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zwarte-kraai.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zwarte kraai</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zwarte-mees.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zwarte mees</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zwarte-roodstaart.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zwarte roodstaart</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zwarte-specht.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zwarte specht</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../soort/zwartkop.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Zwartkop</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
<h2 id="toc-title">Op deze pagina</h2>
<ul>
<li><a href="#sec-relevant" id="toc-sec-relevant" class="nav-link active" data-scroll-target="#sec-relevant"><span class="header-section-number">1</span> Selectie van relevante gegevens per soort</a></li>
<li><a href="#s:trendberekening" id="toc-s:trendberekening" class="nav-link" data-scroll-target="#s\:trendberekening"><span class="header-section-number">2</span> Trendberekening</a>
<ul class="collapse">
<li><a href="#niet-lineaire-trends" id="toc-niet-lineaire-trends" class="nav-link" data-scroll-target="#niet-lineaire-trends"><span class="header-section-number">2.1</span> Niet-lineaire trends</a></li>
<li><a href="#statistische-verdelingen" id="toc-statistische-verdelingen" class="nav-link" data-scroll-target="#statistische-verdelingen"><span class="header-section-number">2.2</span> Statistische verdelingen</a></li>
<li><a href="#sec-lineairetrend" id="toc-sec-lineairetrend" class="nav-link" data-scroll-target="#sec-lineairetrend"><span class="header-section-number">2.3</span> Lineaire trends</a></li>
<li><a href="#resultaten-per-driejarige-cyclus" id="toc-resultaten-per-driejarige-cyclus" class="nav-link" data-scroll-target="#resultaten-per-driejarige-cyclus"><span class="header-section-number">2.4</span> Resultaten per driejarige cyclus</a></li>
<li><a href="#modellen-fitten" id="toc-modellen-fitten" class="nav-link" data-scroll-target="#modellen-fitten"><span class="header-section-number">2.5</span> Modellen fitten</a></li>
</ul></li>
<li><a href="#gemiddeld-aantal-dieren-per-meetpunt" id="toc-gemiddeld-aantal-dieren-per-meetpunt" class="nav-link" data-scroll-target="#gemiddeld-aantal-dieren-per-meetpunt"><span class="header-section-number">3</span> Gemiddeld aantal dieren per meetpunt</a></li>
<li><a href="#vergelijken-van-jaren" id="toc-vergelijken-van-jaren" class="nav-link" data-scroll-target="#vergelijken-van-jaren"><span class="header-section-number">4</span> Vergelijken van jaren</a></li>
<li><a href="#sec-stratumgewicht" id="toc-sec-stratumgewicht" class="nav-link" data-scroll-target="#sec-stratumgewicht"><span class="header-section-number">5</span> Gewicht van de strata</a></li>
<li><a href="#sec-samengesteld" id="toc-sec-samengesteld" class="nav-link" data-scroll-target="#sec-samengesteld"><span class="header-section-number">6</span> Samengestelde indices</a></li>
</ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">
<header id="title-block-header">
<h1 class="title display-7">Verwerking van de gegevens</h1>
</header>

<section id="sec-relevant" class="level2" data-number="1">
<h2 data-number="1" class="anchored" data-anchor-id="sec-relevant"><span class="header-section-number">1</span> Selectie van relevante gegevens per soort</h2>
<p>Hoewel we alle waargenomen vogelsoorten op een meetpunt noteren, toch zijn niet alle hokken even relevant voor een bepaalde soort. Om de redenering op te bouwen, beschouwen we een fictieve soort die enkel op een afgelegen eiland voorkomt. Alle vogeltellingen buiten dit eiland zijn uiteraard niet informatief voor wijzigingen in de aantallen van deze fictieve soort. Buiten het eiland zullen de getelde aantallen immers per definitie nul zijn. Wanneer we deze tellingen toch zouden in rekening brengen, dan zullen ze de globale trend afvlakken. De globale trend is min of meer equivalent met een “gemiddelde” trend over de verschillende locaties. Als een locatie steeds nul geeft, dan zijn lokaal de aantallen wiskundig “stabiel” (geen lokale trend). Daarom is het noodzakelijk om de locaties die niet relevant zijn voor een soort buiten beschouwing te houden.</p>
<p>In Vlaanderen is de situatie niet zo zwart-wit als bij het voorbeeld met het afgelegen eiland. Daarom hebben nood aan een set regels die we toepassen op de beschikbare gegevens.</p>
<ol type="1">
<li>We beschouwen een hok als relevant voor een soort wanneer we deze soort tijdens minstens twee verschillende driejarige cycli waarnemen. Op deze manier sluiten we hokken uit waar de soort nooit of slechts toevallig waargenomen is. Hokken die slechts binnen één driejarige cyclus onderzocht zijn, kunnen we hierdoor voorlopig niet gebruiken. <a href="#fig-potentieel" class="quarto-xref">Figuur&nbsp;1</a> geeft een overzicht van het aantal hokken die gedurende minstens twee cycli onderzocht zijn.</li>
<li>Binnen een hok is een meetpunt pas relevant wanneer we de soort er minstens eenmaal waarnemen.</li>
<li>Een stratum is relevant voor een soort wanneer het minstens drie relevante hokken bevat.</li>
<li>Op basis van de overblijvende gegevens berekenen we het (meetkundig<a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a>) gemiddelde van de aantallen in elk van de drie perioden. De periode met het hoogste gemiddelde gebruiken we als referentieperiode. We houden enkel de periodes waarbij het gemiddelde minstens 15% van de referentieperiode bedraagt. Op deze manier sluiten we periodes uit waarbij de soort zelden gezien wordt. Bijvoorbeeld een trekvogel die pas in de loop van de tweede periode toekomt en waarvoor de eerste periode bijgevolg niet relevant is.</li>
<li>We passen de regels voor relevante hokken en strata opnieuw toe. Het negeren van een of twee irrelevante periodes kan er voor zorgen dat een hok niet langer relevant is.</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div id="fig-potentieel" class="quarto-figure quarto-figure-center quarto-float anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-potentieel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="verwerking_files/figure-html/fig-potentieel-1.png" class="img-fluid figure-img" width="672">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-potentieel-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figuur&nbsp;1: Aantal onderzochte hokken per stratum en per jaar waarbij we enkel rekening houden met hokken die in minstens twee verschillende driejarige cycli onderzocht zijn.
</figcaption>
</figure>
</div>
</div>
</div>
<p>Na het toepassen van deze regels gaan we na of we minstens 100 waarnemingen van de soort hebben. Hierbij is een waarneming de telling van minstens één dier in een combinatie van jaar, periode, hok en meetpunt. Stel dat we een soort hebben waarbij we de drie periodes weerhouden en de waarnemer ziet de soort op elk van de zes meetpunten tijdens alle periodes van een bepaald jaar, dan hebben we <span class="math inline">3 \times 6 = 18</span> waarnemingen voor dat hok in dat jaar.</p>
<p>Als we minder dan 100 waarnemingen voorhouden voor een soort, dan stopt voorlopig het verhaal voor deze soort. We hebben dan te weinig waarnemingen voor een betrouwbare trendberekening. Dit wil niet zeggen dat we deze soort permanent afschrijven! Wanneer we deze regels in de toekomst opnieuw toepassen hebben we mogelijk wel voldoende waarnemingen. Ook hokken of strata in de toekomst gekoloniseerd worden, worden dan opgepikt.</p>
</section>
<section id="s:trendberekening" class="level2" data-number="2">
<h2 data-number="2" class="anchored" data-anchor-id="s:trendberekening"><span class="header-section-number">2</span> Trendberekening</h2>
<section id="niet-lineaire-trends" class="level3" data-number="2.1">
<h3 data-number="2.1" class="anchored" data-anchor-id="niet-lineaire-trends"><span class="header-section-number">2.1</span> Niet-lineaire trends</h3>
<p>Om de trends te berekenen, voorspellen we de waargenomen aantallen aan de hand van een statistisch model. <span class="math inline">Y_{jpshm}</span> is de voorspelling voor jaar <span class="math inline">j</span>, periode <span class="math inline">p</span>, stratum <span class="math inline">s</span>, hok <span class="math inline">h</span> en meetpunt <span class="math inline">m</span>. We veronderstellen dat deze aantallen uit een <code>zero-inflated negative binomial</code><a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a> verdeling komen met parameters <span class="math inline">\mu_{jpshm}</span>, <span class="math inline">\nu</span> en <span class="math inline">\pi</span>.</p>
<p><span class="math display">Y_{jpshm} \sim ZINB(\mu_{jpshm}, \nu, \pi)</span></p>
<p>Laat ons eerst focussen op <span class="math inline">\mu_{jpshm}</span>. Deze parameter is via een <span class="math inline">\log</span> link gerelateerd aan de <code>lineaire predictor</code> <span class="math inline">\eta_{jpshm}</span>. Door deze <span class="math inline">\log</span> link kunnen we de individuele termen van de <code>lineare predictor</code> interpreteren als relatieve effecten.</p>
<p><span class="math display">\log\mu_{jpshm} = \eta_{jpshm}</span></p>
<p>En nu wordt het interessant want deze <code>lineaire predictor</code> hangt af van vijf termen:</p>
<ul>
<li><span class="math inline">\beta_s</span>: het effect van stratum <span class="math inline">s</span>.</li>
<li><span class="math inline">\beta_p</span>: het verschil tussen periode <span class="math inline">p</span> en de referentieperiode.</li>
<li><span class="math inline">b_h</span>: het effect van hok <span class="math inline">h</span>. Deze effecten komen uit een Gaussiaanse verdeling met gemiddelde 0 en variantie <span class="math inline">\sigma^2_h</span>.</li>
<li><span class="math inline">b_m</span>: het effect van meetpunt <span class="math inline">m</span>. Deze effecten komen uit een Gaussiaanse verdeling met gemiddelde 0 en variantie <span class="math inline">\sigma^2_m</span>.</li>
<li><span class="math inline">b_{j,s}</span>: het effect van jaar <span class="math inline">j</span> in stratum <span class="math inline">s</span>. Dit effect modelleert een eerste orde random walk per stratum. Het verschil tussen twee opeenvolgende jaren komt uit een Gaussiaanse verdeling met gemiddelde 0 en variantie <span class="math inline">\sigma^2_j</span>.</li>
</ul>
<p><span class="math display">\eta_{jpshm} = \beta_s + \beta_p + b_h + b_m + b_{j,s}</span> <span class="math display">b_h \sim \mathcal{N}(0, \sigma^2_h)</span> <span class="math display">b_m \sim \mathcal{N}(0, \sigma^2_m)</span> <span class="math display">b_{j,s} - b_{j-1, s} = \Delta b_{j,s} \sim \mathcal{N}(0, \sigma^2_j)</span></p>
<p>De random walk <span class="math inline">b_{j,s}</span> is de term die ons het meest interesseert aangezien deze modelleert hoe de aantallen in de tijd wijzigen. Het komt er op neer dat de aantallen in jaar <span class="math inline">j</span> en stratum <span class="math inline">s</span> een factor <span class="math inline">e^{\Delta b_{j,s}}</span> verschillen van het voorgaande jaar in datzelfde stratum. De variantie <span class="math inline">\sigma^2_j</span> bepaalt hoe groot de sterkste schommelingen tussen de opeenvolgende jaren kunnen zijn. Het model laat toe dat elk stratum zijn eigen trend heeft.</p>
</section>
<section id="statistische-verdelingen" class="level3" data-number="2.2">
<h3 data-number="2.2" class="anchored" data-anchor-id="statistische-verdelingen"><span class="header-section-number">2.2</span> Statistische verdelingen</h3>
<p>Een standaard distributie voor aantallen is de Poisson verdeling. Deze heeft als kenmerk dat de variantie gelijk is aan het gemiddelde (<span class="math inline">\sigma^2 = \mu</span>). Bij veel ecologisch gegevens zien we dat de variantie in de praktijk groter is dan het gemiddelde, een fenomeen dat we overdispersie noemen. In dat geval kunnen we een negatief binomiale verdeling gebruiken. Deze heeft als variantie <span class="math inline">\sigma^2 = \mu + \mu^2/\nu</span>, waarbij de parameter <span class="math inline">\nu</span> is een maat voor overdispersie. Merk op dat als de overdispersieparameter zeer groot wordt (<span class="math inline">\nu = \infty</span>), dan wordt de term <span class="math inline">\mu/\nu = 0</span> en bijgevolg reduceert de negatief binomiale verdeling dan tot een Poisson verdeling.</p>
<p>Sommige ecologische gegevens vertonen een “overmaat” aan nullen, dat zijn meer nulwaarnemingen dan de Poisson of negatief binomiale verdeling kan modelleren. In dergelijke gevallen kunnen we overschakelen naar de <code>zero-inflated</code> versie van deze verdelingen. Deze hebben een parameter <span class="math inline">\pi</span> die een maat is voor de kans op een overmatige nul.</p>
<p>Bij het modelleren zullen we in eerste instantie deze twee parameters instellen op <span class="math inline">\nu = \infty</span> en <span class="math inline">\pi = 0</span>, m.a.w. geen overdispersie en geen overmaat aan nullen zodat we een Poisson verdeling krijgen. Vervolgens gaan we na of er voldoende aanwijzingen zijn voor overdispersie of een overmaat aan nullen. In het geval van overdispersie laten we <span class="math inline">\nu</span> door het model schatten waardoor we overgaan van een Poisson naar een negatief binomiaal. In het geval van een overmaat aan nullen laten we <span class="math inline">\pi</span> door het model schatten waardoor we overgaan van een Poisson naar een <code>zero-inflated</code> Poisson. Soms hebben we zowel aanwijzingen voor overdispersie als een overmaat aan nullen. In die gevallen kiezen we de negatief binomiaal of <code>zero-inflated</code> Poisson naargelang welke de sterkste aanwijzingen heeft. Vervolgens gaan we na of we de andere parameter ook nog een probleem vormt. Zo ja, gaan we over naar een <code>zero-inflated</code> negatief binomiaal waarbij het model zowel <span class="math inline">\nu</span> als <span class="math inline">\pi</span> zal schatten.</p>
</section>
<section id="sec-lineairetrend" class="level3" data-number="2.3">
<h3 data-number="2.3" class="anchored" data-anchor-id="sec-lineairetrend"><span class="header-section-number">2.3</span> Lineaire trends</h3>
<p>Lineaire trends veronderstellen dat er een constante wijziging is over de volledige looptijd. Het model dat we hiervoor gebruiken is nagenoeg identiek aan het niet-lineaire model. Het enige verschil zit in de <code>lineaire predictor</code> waar we de first order random walk (<span class="math inline">b_{j,s}</span>) vervangen door een lineaire trend per stratum (<span class="math inline">\beta_{s1} j</span>).</p>
<p><span class="math display">\eta_{jpshm} = \beta_s + \beta_p + b_h + b_m + \beta_{s1} j</span></p>
<p>Het lineaire model is een vereenvoudiging van het niet-lineaire model. We kunnen deze modellen met elkaar vergelijken op basis van het <code>Wantanabe-Akaike Information Criterion</code> (WAIC) <span class="citation" data-cites="gelmanUnderstandingPredictiveInformation2014">(<a href="#ref-gelmanUnderstandingPredictiveInformation2014" role="doc-biblioref">Gelman, Hwang, en Vehtari 2014</a>)</span>. De WAIC waarde daalt naarmate het model de gegevens beter kan beschrijven en stijgt wanneer het model complexer wordt. Als we modellen met elkaar vergelijken op basis van WAIC, zal het model met de laagste WAIC de beste mix zijn tussen een goede beschrijving van de gegevens en een zo eenvoudig mogelijk model. We beschouwen de trend als <strong>lineair</strong> wanneer het lineaire model de laagste WAIC heeft. Wanneer de WAIC van het niet-lineaire model minder dan 2 eenheden lager is dan deze van het lineaire model, beschouwen de trend als <strong>mogelijk niet-lineair</strong>. Pas wanneer de WAIC van het niet-lineaire model duidelijk lager is dan het lineaire model, stellen we dat de trend <strong>niet-lineair</strong> is. In dat geval de gebruiker moet de gerapporteerde lineaire trend met de nodige voorzichtigheid interpreteren. Kijk zeker naar de bijhorende niet-lineaire trend vooraleer de cijfers te interpreteren.</p>
</section>
<section id="resultaten-per-driejarige-cyclus" class="level3" data-number="2.4">
<h3 data-number="2.4" class="anchored" data-anchor-id="resultaten-per-driejarige-cyclus"><span class="header-section-number">2.4</span> Resultaten per driejarige cyclus</h3>
<p>Zoals <a href="inzameling.html#sec-steekproef">eerder</a> aangegeven zullen we een bepaald hok in principe om de drie jaar herbezoeken. Hierdoor krijgen we drie sets van hokken. Er bestaat een kans dat de schatting voor een bepaald jaar beïnvloed is door de set van hokken die in dat jaar onderzocht worden. Om dit effect uit te schakelen, analyseren we de gegevens tevens op basis van de driejarige cyclus <span class="math inline">c</span> i.p.v. jaar <span class="math inline">j</span>.</p>
<p>De eerste cyclus omvat de eerste drie jaar sinds de start van het meetnet (2007-2009). De volgende cyclus omvat telkens de volgende drie jaar aansluitend op de vorige cyclus. Aangezien we alle beschikbare gegevens gebruiken bij de analyse bevat de laatste cyclus mogelijk minder dan drie jaar. Dit is duidelijk zichtbaar doordat het laatste jaar van de cyclus op dat ogenblik in de toekomst ligt. Als bijvoorbeeld 2019 het meest recente jaar met gegevens is, dan is de laatste cyclus 2019-2021.</p>
<p>Hieronder geven we aan op welke manier we de eerste beschreven modellen aanpassen.</p>
<p><span class="math display">Y_{cpshm} \sim ZINB(\mu_{cpshm}, \nu, \pi)</span> <span class="math display">\log\mu_{cpshm} = \eta_{cpshm}</span></p>
<p><strong>Niet-lineaire trend</strong></p>
<p><span class="math display">\eta_{cpshm} = \beta_s + \beta_p + b_h + b_m + b_{c,s}</span> <span class="math display">b_{c,s} - b_{c-1, s} = \Delta b_{c,s} \sim \mathcal{N}(0, \sigma^2_c)</span></p>
<p><span class="math inline">b_{c,s}</span>: het effect van driejarige cyclus <span class="math inline">c</span> in stratum <span class="math inline">s</span>. Dit effect modelleert een eerste orde random walk per stratum. Het verschil tussen twee opeenvolgende driejarige cycli komt uit een Gaussiaanse verdeling met gemiddelde 0 en variantie <span class="math inline">\sigma^2_c</span>.</p>
<p><strong>Lineaire trend</strong></p>
<p><span class="math display">\eta_{cpshm} = \beta_s + \beta_p + b_h + b_m + \beta_{s1} c</span></p>
</section>
<section id="modellen-fitten" class="level3" data-number="2.5">
<h3 data-number="2.5" class="anchored" data-anchor-id="modellen-fitten"><span class="header-section-number">2.5</span> Modellen fitten</h3>
<p>We fitten de statische modellen in R <span class="citation" data-cites="R">(<a href="#ref-R" role="doc-biblioref">R Core Team 2023</a>)</span> met het INLA package <span class="citation" data-cites="rueINLAFunctionsWhich2009">(<a href="#ref-rueINLAFunctionsWhich2009" role="doc-biblioref">Rue e.a. 2009</a>)</span>. INLA gebruikt een Bayesiaanse benadering om de modellen te fitten. Daarom moeten we priors specificeren voor de parameters en hyperparameters.</p>
<ul>
<li><span class="math inline">\beta_s</span>, <span class="math inline">\beta_p</span> en <span class="math inline">\beta_{s1}</span> krijgen een Gaussiaanse prior <span class="math inline">\mathcal{N}(0, 5)</span>.</li>
<li><span class="math inline">\sigma^2_h</span> krijgt een <code>penalised complexity</code> prior <span class="citation" data-cites="simpson.rue.ea2017PenalisingModelComponent">(<a href="#ref-simpson.rue.ea2017PenalisingModelComponent" role="doc-biblioref">Simpson e.a. 2017</a>)</span> zodat <span class="math inline">Prob(\sigma_h &gt; 1) = 0.01</span>.</li>
<li><span class="math inline">\sigma^2_m</span> krijgt een <code>penalised complexity</code> prior zodat <span class="math inline">Prob(\sigma_m &gt; 1) = 0.01</span>.</li>
<li><span class="math inline">\sigma^2_j</span> krijgt een <code>penalised complexity</code> prior zodat <span class="math inline">Prob(\sigma_j &gt; 0.5) = 0.01</span>.</li>
<li><span class="math inline">\sigma^2_c</span> krijgt een <code>penalised complexity</code> prior zodat <span class="math inline">Prob(\sigma_c &gt; 0.5) = 0.01</span>.</li>
<li><span class="math inline">\nu</span> krijgt een Gamma prior zodat <span class="math inline">\nu \sim \Gamma(1/7, 1/7)</span>.</li>
<li><span class="math inline">\pi</span> wordt intern geparametriseerd als <span class="math inline">\theta = \log\frac{\pi}{1 - \pi}</span> met Gaussiaanse prior <span class="math inline">\theta ~ \sim \mathcal{N}(-1, 5)</span>.</li>
</ul>
</section>
</section>
<section id="gemiddeld-aantal-dieren-per-meetpunt" class="level2" data-number="3">
<h2 data-number="3" class="anchored" data-anchor-id="gemiddeld-aantal-dieren-per-meetpunt"><span class="header-section-number">3</span> Gemiddeld aantal dieren per meetpunt</h2>
<p>Een gemiddeld hok heeft als effect <span class="math inline">b_h = 0</span> en een gemiddeld meetpunt <span class="math inline">b_m = 0</span>. In de referentieperiode is <span class="math inline">\beta_p = 0</span>. In deze gevallen vereenvoudigt de <code>lineaire predictor</code> tot het effect van stratum <span class="math inline">s</span> en de trend in dat stratum:</p>
<p><span class="math display">\eta_{js} = \beta_s + b_{j,s}</span></p>
<p>Door de effecten van de strata te vermenigvuldigen met hun stratumgewicht (<span class="math inline">\gamma_s</span>) krijgen we een schatting voor Vlaanderen.</p>
<p><span class="math display">\eta_{j} = \sum_s(\gamma_s\beta_s + \gamma_sb_{j,s})</span></p>
<p>Om de schatting van het gemiddelde aantal in Vlaanderen te krijgen, moeten we de <code>lineaire predictor</code> terug omzetten van de <span class="math inline">\log</span> schaal naar de natuurlijke schaal en corrigeren voor de eventuele overmaat aan nullen. We krijgen dan:</p>
<p><span class="math display">E[Y_j] = (1 - \pi) e^{\eta_j} \prod_s(e^{\gamma_s \beta_s} e ^ {\gamma_s b_{j,s}})</span></p>
</section>
<section id="vergelijken-van-jaren" class="level2" data-number="4">
<h2 data-number="4" class="anchored" data-anchor-id="vergelijken-van-jaren"><span class="header-section-number">4</span> Vergelijken van jaren</h2>
<p>We kunnen twee jaren <span class="math inline">a</span> en <span class="math inline">b</span> met elkaar vergelijken door hun <code>lineaire predictoren</code> voor het gemiddeld aantal dieren van elkaar af te trekken.</p>
<p><span class="math display">\eta_a - \eta_b = \sum_s(\gamma_s\beta_s + \gamma_sb_{a,s}) - \sum_s(\gamma_s\beta_s + \gamma_sb_{b,s})</span></p>
<p>Aangezien het globale stratumeffecten en de stratumgewichten niet wijzigen in de tijd, kunnen we dit vereenvoudigen tot</p>
<p><span class="math display">\eta_a - \eta_b = \sum_s\gamma_s(b_{a,s} -b_{b,s})</span></p>
<p>De wijziging in Vlaanderen is het gewogen gemiddelde van de wijzigingen in de strata. Na omzetting van de <span class="math inline">log</span> schaal naar de natuurlijke schaal krijgen we het relatieve aantal <span class="math inline">I_{a|b}</span> van jaar <span class="math inline">a</span> t.o.v. jaar <span class="math inline">b</span></p>
<p><span class="math display">I_{a|b}=\frac{e^{\nu_a}}{e^{\nu_b}} = \prod_s\left(\frac{e^{\gamma_sb_{a,s}}}{e^{\gamma_sb_{b,s}}}\right)</span></p>
<p>Wanneer we een jaar met zichzelf vergelijken krijgen we per definitie <span class="math inline">I_{a|a} = 1 = 100\%</span>. Wanneer we meerdere jaren met eenzelfde referentiejaar vergelijken krijgen we een indexwaarde: het relatieve verschil van elk jaar t.o.v. van een bepaald referentiejaar.</p>
</section>
<section id="sec-stratumgewicht" class="level2" data-number="5">
<h2 data-number="5" class="anchored" data-anchor-id="sec-stratumgewicht"><span class="header-section-number">5</span> Gewicht van de strata</h2>
<p>In het vorige onderdeel hebben gebruikt gemaakt van stratumgewichten <span class="math inline">\gamma_s</span> zonder deze te definiëren. We bepalen het gewicht van een stratum op basis van drie kenmerken: het totaal aantal hokken van het stratum in Vlaanderen (<span class="math inline">N_s</span>), het aantal onderzochte hokken in het stratum (<span class="math inline">T_s</span>) ongeacht of ze al dan niet relevant zijn voor de soort en het aantal relevante hokken voor de soort in het stratum (<span class="math inline">R_s</span>).</p>
<p>Het aandeel relevante hokken per stratum (<span class="math inline">R_s/T_s</span>) is een goede maat van de frequentie waarmee een soort aanwezig is binnen een stratum. Wanneer een soort in nagenoeg alle onderzochte hokken van het stratum waargenomen wordt is <span class="math inline">R_s/T_s \simeq 1</span>. Is de soort zeer zeldzaam (komt slechts in een paar van de onderzochte hokken voor) dan is <span class="math inline">R_s/T_s \simeq 0</span>.</p>
<p>Het basisgewicht <span class="math inline">\gamma_{sb}</span> voor stratum <span class="math inline">s</span> is het aandeel relevante hokken vermenigvuldigd met het totaal aantal hokken in het stratum. Dit is een schatting van het totaal aantal hokken in het stratum waar de soort voldoende frequent voorkomt.</p>
<p><span class="math display">\gamma_{sb} = \frac{R_s}{T_s}N_s</span></p>
<p>Om makkelijker te kunnen rekenen delen we de basisgewichten door hun som zodat de stratumgewichten sommeren tot 1.</p>
<p><span class="math display">\gamma_s = \frac{\gamma_{sb}}{\sum_s\gamma_{sb}}</span></p>
<p>Merk op dat het aantal relevante hokken per stratum (<span class="math inline">R_s</span>) soortafhankelijk is. Bijgevolg zijn de stratumgewichten eveneens soortafhankelijk.</p>
</section>
<section id="sec-samengesteld" class="level2" data-number="6">
<h2 data-number="6" class="anchored" data-anchor-id="sec-samengesteld"><span class="header-section-number">6</span> Samengestelde indices</h2>
<p>We berekenen een aantal samengestelde indices die de trends voor een groep van soorten aggregeren. Deze indices zijn het meetkundig gemiddelde van de verschillen tussen jaren voor alle soorten van de groep. Bij de berekening maken we gebruik van het trucje dat we een product kunnen schrijven als een som van logaritmes die we nadien terug exponentiëren. Een meetkundig gemiddelde in de natuurlijke schaal kunnen we dat schrijven als een rekenkundig gemiddelde in de log-schaal.</p>
<p><span class="math display">\sqrt[n]{\prod_{i+1}^na_i} = \exp\left(\frac{\sum_{i = 1}^n\log a_i}{n}\right)</span> Het voordeel aan deze techniek is dat de schattingen van de paarsgewijze verschillen tussen de jaren reeds beschikbaar zijn in de log-schaal. Bovendien beschikken we tevens over hun variantie in de log-schaal. Dit laat ons toe om makkelijk het betrouwbaarheidsinterval te berekenen aan de hand van een paar vuistregels.</p>
<ol type="1">
<li>Bij onafhankelijke variabelen geldt dat de variantie van hun som gelijk is aan de som van de varianties. <span class="math inline">\sigma^2_{\sum X_i} = \sum \sigma^2_{X_i}</span></li>
<li>De variantie van het product van een variabele en een constante is gelijk aan de variantie van de variabele vermenigvuldigd met die constante. <span class="math inline">\sigma^2_{aX} = a \sigma^2_X</span></li>
<li>Het model veronderstelt dat de individuele modelparameters een Gaussiaanse verdeling volgen. Hierdoor volgen de paarsgewijze verschillen tussen de jaren en hun gemiddelde (telkens in de log-schaal) een Gaussiaanse verdeling. Aangezien we zowel het gemiddeld als de variantie van deze verdeling kennen, kunnen we hieruit de gewenste kwantielen voor de betrouwbaarheidsintervallen berekenen (nog steeds in de log-schaal).</li>
<li>De log-transformatie is een monotoon stijgende functie aangezien <span class="math inline">\log(x)</span> steeds groter wordt wanneer <span class="math inline">x</span> groter wordt. Een kenmerk van een monotoon stijgende transformatie is dat ze de volgorde behouden: het 5% kleinste element zal ook na de transformatie het 5% kleinste element zijn. Waardoor we de kwantielen van de betrouwbaarheidsintervallen zonder probleem kunnen terugrekenen naar de natuurlijke schaal.</li>
</ol>



</section>


<p>&nbsp;</p>
<p>
  <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">
    <img alt="Creative Commons-License" style="border-width:0" class="ccby"></a>
     Onkelinx, T. et al.
    2024
    <a href="https://doi.org/10.21436/inbor.102669823">10.21436/inbor.102669823</a>


</p><div id="quarto-appendix" class="default"><section class="quarto-appendix-contents" role="doc-bibliography" id="quarto-bibliography"><h2 class="anchored quarto-appendix-heading">Referenties</h2><div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-gelmanUnderstandingPredictiveInformation2014" class="csl-entry" role="listitem">
Gelman, Andrew, Jessica Hwang, en Aki Vehtari. 2014. <span>‘Understanding Predictive Information Criteria for <span>Bayesian</span> Models’</span>. <em>Statistics and Computing</em> 24 (6): 997–1016. <a href="https://doi.org/10.1007/s11222-013-9416-2">https://doi.org/10.1007/s11222-013-9416-2</a>.
</div>
<div id="ref-R" class="csl-entry" role="listitem">
R Core Team. 2023. <em>R: A Language and Environment for Statistical Computing</em>. Vienna, Austria: R Foundation for Statistical Computing. <a href="https://www.R-project.org/">https://www.R-project.org/</a>.
</div>
<div id="ref-rueINLAFunctionsWhich2009" class="csl-entry" role="listitem">
Rue, Håvard, Sara Martino, Finn Lindgren, Daniel Simpson, en Andrea Riebler. 2009. <em><span>INLA</span>: <span>Functions</span> Which Allow to Perform Full <span>Bayesian</span> Analysis of Latent <span>Gaussian</span> Models Using <span>Integrated Nested Laplace Approximation</span></em>.
</div>
<div id="ref-simpson.rue.ea2017PenalisingModelComponent" class="csl-entry" role="listitem">
Simpson, Daniel P., HRue, Thiago G. Martins, Andrea Riebler, en Sigrunn H. Sørbye. 2017. <span>‘Penalising Model Component Complexity: <span>A</span> Principled, Practical Approach to Constructing Priors’</span>. <em>Statistical Science</em> 32 (1): 1–28. <a href="https://doi.org/10.1214/16-STS576">https://doi.org/10.1214/16-STS576</a>.
</div>
</div></section><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Voetnoten</h2>

<ol>
<li id="fn1"><p>Het meetkundig gemiddelde of geometrisch gemiddelde van <span class="math inline">n</span> getallen wordt verkregen door de getallen met elkaar te vermenigvuldigen en vervolgens van het product de n<sup>de</sup> machtswortel te nemen. <span class="math display">m=\left(\prod _{i=1}^{n}a_{i}\right)^{1/n}</span><a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p>Een negatief binomiale verdeling met een overmaat aan nullen.<a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Gekopieerd!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Gekopieerd!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>